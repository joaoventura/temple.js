<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Temple.js by joaoventura</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/joaoventura/temple.js">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/joaoventura/temple.js/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/joaoventura/temple.js/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Temple.js</h1>
          <p>Sane web development with templates</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/joaoventura">joaoventura</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <p>Temple.js is a small javascript library which helps you with the development of your templates.</p>

<p>You declare your templates inline or on external files, and use temple.js to load and compile them for you. When you are ready for production, compile your templates to javascript source code, and let temple.js get out of your way.</p>

<p>Temple.js templates support Javascript logic inside. You can declare variables, invoke functions and use for loops inside the templates. They are pretty powerfull!</p>

<h2>
<a id="basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Usage</h2>

<h3>
<a id="during-development" class="anchor" href="#during-development" aria-hidden="true"><span class="octicon octicon-link"></span></a>During development</h3>

<p>Declare your templates inline in your HTML or on an external file. Each template must have a name and an argument.</p>

<div class="highlight highlight-html"><pre>
&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>message<span class="pl-pds">'</span></span> <span class="pl-e">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello {{=name}}&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;

&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>greet<span class="pl-pds">'</span></span> <span class="pl-e">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>names<span class="pl-pds">'</span></span>&gt;
    &lt;<span class="pl-ent">ul</span>&gt;
    {{for (var i=0; i&lt;<span class="pl-ent">names</span>.<span class="pl-e">length</span>; <span class="pl-e">i</span>++) { }}
        {{=<span class="pl-s1">this.message(names[i])}}</span>
    {{ } }}
    &lt;/<span class="pl-e">ul</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;
</pre></div>

<p>Use temple.js to load your templates and use them.</p>

<div class="highlight highlight-javascript"><pre>
temple.fromURL(<span class="pl-s1"><span class="pl-pds">'</span>templates.html<span class="pl-pds">'</span></span>, <span class="pl-st">function</span> (<span class="pl-vpf">templates</span>) {
    <span class="pl-s">var</span> string <span class="pl-k">=</span> templates.greet([<span class="pl-s1"><span class="pl-pds">'</span>Andrew<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Betty<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Charles<span class="pl-pds">'</span></span>]);
});
</pre></div>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">ul</span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello Andrew&lt;/<span class="pl-ent">li</span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello Betty&lt;/<span class="pl-ent">li</span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello Charles&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">ul</span>&gt;
</pre></div>

<p>You can also use the templates inline with your HTML, using <code>temple.fromID(id)</code> for retrieving the templates from an element with ID <em>id</em>.
<em>Check the samples for more examples.</em></p>

<h3>
<a id="for-production" class="anchor" href="#for-production" aria-hidden="true"><span class="octicon octicon-link"></span></a>For production</h3>

<p>Use temple.js to generate the javascript source code of your templates.</p>

<div class="highlight highlight-javascript"><pre>
temple.sourceFromURL(<span class="pl-s1"><span class="pl-pds">'</span>templates.html<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>mytemplates<span class="pl-pds">'</span></span>, <span class="pl-st">function</span> (<span class="pl-vpf">source</span>) {
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(source);
});
</pre></div>

<p>This will print the template's source code to the console.</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-s">var</span> mytemplates <span class="pl-k">=</span> {};

<span class="pl-s3">mytemplates</span>.<span class="pl-en">message</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">name</span>) {
    <span class="pl-s">var</span> out <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;li&gt;Hello <span class="pl-pds">'</span></span> <span class="pl-k">+</span> (name) <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;/li&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> out;
};

<span class="pl-s3">mytemplates</span>.<span class="pl-en">greet</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">names</span>) {
    <span class="pl-s">var</span> out <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;ul&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">for</span> (<span class="pl-s">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> names.<span class="pl-sc">length</span>; i<span class="pl-k">++</span>) {
        out <span class="pl-k">+=</span> (<span class="pl-v">this</span>.message(names[i]));
    }
    out <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;/ul&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> out;
};

</pre></div>

<p>Just copy-paste this source code into a new javascript file (or inline in your HTML) and use it directly on your own javascript code. There's no more need for temple.js in your project.</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-s">var</span> string <span class="pl-k">=</span> mytemplates.greet([<span class="pl-s1"><span class="pl-pds">'</span>Andrew<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Betty<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Charles<span class="pl-pds">'</span></span>]);
</pre></div>

<p>In alternative, you can use <a href="http://joaoventura.github.io/temple.js/generator/index.html">this online generator</a> to compile your templates to javascript source code.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a id="templates" class="anchor" href="#templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Templates</h3>

<p>A template is defined as a string between a  tag and includes two attributes - the template name and the template argument. Temple.js only accepts one argument per template.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>message<span class="pl-pds">'</span></span> <span class="pl-e">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello {{=name}}&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;</pre></div>

<p>The previous template gets compiled to the following javascript function:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-st">function</span> <span class="pl-en">message</span>(<span class="pl-vpf">name</span>) {
    <span class="pl-s">var</span> out <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;li&gt;Hello <span class="pl-pds">'</span></span> <span class="pl-k">+</span> (name) <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;/li&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> out;
};</pre></div>

<p>Internally, temple.js just compiles templates to functions. During development of your templates, it does it automatically for you, and for production you just grab your template's javascript source code.</p>

<h3>
<a id="functions" class="anchor" href="#functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Functions</h3>

<p>Besides templates, you can also define functions that can be useful, for instance, for defining presentation logic.
The main difference between functions and templates, is that the content of functions must be pure javascript code. But, similarly to templates, functions must have a name and an argument. For instance,</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">function</span> <span class="pl-e">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>beautify<span class="pl-pds">'</span></span> <span class="pl-e">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>someone<span class="pl-pds">'</span></span>&gt;
    var x = 0;
    return "Hi" + someone + " you are beautiful!";
&lt;/<span class="pl-ent">function</span>&gt;</pre></div>

<p>gets compiled to:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-st">function</span> <span class="pl-en">beautify</span>(<span class="pl-vpf">someone</span>) {
    <span class="pl-s">var</span> x <span class="pl-k">=</span> <span class="pl-c1">0</span>;
    <span class="pl-k">return</span> <span class="pl-s1"><span class="pl-pds">"</span>Hi<span class="pl-pds">"</span></span> <span class="pl-k">+</span> someone <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span> you are beautiful!<span class="pl-pds">"</span></span>;
};</pre></div>

<p>Basically, temple.js returns the contents of functions as they are defined.</p>

<h3>
<a id="template-logic" class="anchor" href="#template-logic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Template logic</h3>

<p>Since templates will eventually get compiled to javascript source code, this means that you can use javascript code inside your templates. This is a very powerfull mechanism.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>message<span class="pl-pds">'</span></span> <span class="pl-e">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>&gt;
    {{var someNumber = Math.random();}}
    {{var idiot = name + ' is idiot!';}}
    &lt;<span class="pl-ent">li</span>&gt;Hello {{=idiot}}&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;</pre></div>

<p>The previous template gets compiled to the following javascript function:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-st">function</span> <span class="pl-en">message</span>(<span class="pl-vpf">name</span>) {
    <span class="pl-s">var</span> out <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
    <span class="pl-s">var</span> someNumber <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">random</span>();
    <span class="pl-s">var</span> idiot <span class="pl-k">=</span> name <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span> is idiot!<span class="pl-pds">'</span></span>;
    out <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;li&gt;Hello <span class="pl-pds">'</span></span> <span class="pl-k">+</span> (idiot) <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;/li&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> out;
};
</pre></div>

<p>Notice the <em>semicolon</em> after the variable declarations and function calls, and the <em>equal sign</em> when we want to use a variable or a function's result as string and concatenate it to the return variable <code>out</code>.</p>

<p>Another powerfull mechanism is the invocation of sub templates in your templates. This allows you to modularize your code.</p>

<div class="highlight highlight-html"><pre>
&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>message<span class="pl-pds">'</span></span> <span class="pl-e">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello {{=name}}&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;

&lt;<span class="pl-ent">template</span> <span class="pl-e">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>greet<span class="pl-pds">'</span></span> <span class="pl-e">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>names<span class="pl-pds">'</span></span>&gt;
    &lt;<span class="pl-ent">ul</span>&gt;
    {{for (var i=0; i&lt;<span class="pl-ent">names</span>.<span class="pl-e">length</span>; <span class="pl-e">i</span>++) { }}
        {{=<span class="pl-s1">this.message(names[i])}}</span>
    {{ } }}
    &lt;/<span class="pl-e">ul</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;
</pre></div>

<p>Notice how we must use the <code>this</code> keyword to reference the <em>message</em> template, and how we use the <em>equal sign</em> to append the message string to the result of the <em>greet</em> template.</p>

<h3>
<a id="template-locations" class="anchor" href="#template-locations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Template locations</h3>

<p>You can define one or more templates inside the html document (for instance, inside a script element with the text attribute to something other than 'text/javascript'), or on an external file.</p>

<p>For external files, use <code>fromURL(url, callback)</code> to load the external file asynchronously. Check the samples for more examples for loading templates and functions inline or from external files.</p>

<h3>
<a id="public-functions" class="anchor" href="#public-functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Public functions</h3>

<ul>
<li><p><code>fromID(id)</code>: Loads templates given an element ID (or array of IDs) and returns them as ready-to-use functions.</p></li>
<li><p><code>fromURL(url, callback)</code>: Loads templates from an url (or array of urls) and returns them as ready-to-use functions.</p></li>
<li><p><code>sourceFromID(id, namespace)</code>: Loads templates given an element ID (or array of IDs) and returns them as javascript source code with a given namespace, so that they can be used in production.</p></li>
<li><p><code>sourceFromURL(url, namespace, callback)</code>: Loads templates from an url (or array of urls) and returns them as javascript source code with a given namespace, so that they can be used in production.</p></li>
<li><p><code>build(string)</code>: Parses a string with templates and returns them as compiled javascript.</p></li>
<li><p><code>buildString(string)</code>: Parses a string with templates and returns them as javascript source code.</p></li>
</ul>

<h2>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources:</h2>

<ul>
<li>Github Page: <a href="http://joaoventura.github.io/temple.js/">http://joaoventura.github.io/temple.js/</a>
</li>
<li>Online generator: <a href="http://joaoventura.github.io/temple.js/generator/index.html">http://joaoventura.github.io/temple.js/generator/index.html</a>
</li>
</ul>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>