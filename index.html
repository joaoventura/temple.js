<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Temple.js : Template compiler">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Temple.js</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/joaoventura/temple.js">View on GitHub</a>

          <h1 id="project_title">Temple.js</h1>
          <h2 id="project_tagline">Template compiler</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/joaoventura/temple.js/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/joaoventura/temple.js/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="templejs" class="anchor" href="#templejs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Temple.js</h1>

<p>Temple.js is a small javascript browser library for compiling templates to functions.
It is intended to be used on development. When you are ready for production, compile your templates to a javascript file, and use them the same way.</p>

<h2>
<a id="development---usage" class="anchor" href="#development---usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Development - Usage</h2>

<p>Define your templates directly in your html code, or on an external file:</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-eoai">id</span>=<span class="pl-s1"><span class="pl-pds">'</span>my-templates<span class="pl-pds">'</span></span> <span class="pl-eoa">type</span>=<span class="pl-s1"><span class="pl-pds">'</span>text/template<span class="pl-pds">'</span></span>&gt;

    &lt;<span class="pl-ent">template</span> <span class="pl-eoa">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>message<span class="pl-pds">'</span></span> <span class="pl-eoa">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>&gt;
        &lt;<span class="pl-ent">li</span>&gt;Hello {{=name}}&lt;/<span class="pl-ent">li</span>&gt;
    &lt;/<span class="pl-ent">template</span>&gt;

    &lt;<span class="pl-ent">template</span> <span class="pl-eoa">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>greet<span class="pl-pds">'</span></span> <span class="pl-eoa">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>names<span class="pl-pds">'</span></span>&gt;
        &lt;<span class="pl-ent">ul</span>&gt;
        {{for (var i=0; i&lt;<span class="pl-ent">names</span>.<span class="pl-eoa">length</span>; <span class="pl-eoa">i</span>++) { }}
            {{=<span class="pl-s1">this.message(names[i])}}</span>
        {{ } }}
        &lt;/<span class="pl-eoa">ul</span>&gt;
    &lt;/<span class="pl-ent">template</span>&gt;

&lt;/<span class="pl-ent">script</span>&gt;
</pre></div>

<p>Compile your templates to javascript functions and invoke them directly:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> templates <span class="pl-ko">=</span> temple.fromID(<span class="pl-s1"><span class="pl-pds">'</span>my-templates<span class="pl-pds">'</span></span>);
templates.greet([<span class="pl-s1"><span class="pl-pds">'</span>Andrew<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Betty<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Charles<span class="pl-pds">'</span></span>]);</pre></div>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">ul</span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello Andrew&lt;/<span class="pl-ent">li</span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello Betty&lt;/<span class="pl-ent">li</span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello Charles&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">ul</span>&gt;
</pre></div>

<h2>
<a id="production---generate-javascript-source" class="anchor" href="#production---generate-javascript-source" aria-hidden="true"><span class="octicon octicon-link"></span></a>Production - Generate javascript source</h2>

<p>When you are ready for production, generate the javascript source code:</p>

<div class="highlight highlight-javascript"><pre>temple.stringFromID(<span class="pl-s1"><span class="pl-pds">'</span>my-templates<span class="pl-pds">'</span></span>);</pre></div>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> templates <span class="pl-ko">=</span> {};

<span class="pl-sc">templates</span>.<span class="pl-enf">message</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">name</span>) {
    <span class="pl-s">var</span> out <span class="pl-ko">=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;li&gt;Hello <span class="pl-pds">'</span></span> <span class="pl-ko">+</span> (name) <span class="pl-ko">+</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;/li&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> out;
};

<span class="pl-sc">templates</span>.<span class="pl-enf">greet</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">names</span>) {
    <span class="pl-s">var</span> out <span class="pl-ko">=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;ul&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">for</span> (<span class="pl-s">var</span> i <span class="pl-ko">=</span> <span class="pl-cn">0</span>; i <span class="pl-ko">&lt;</span> names.length; i<span class="pl-ko">++</span>) {
        out <span class="pl-ko">+=</span> (<span class="pl-v">this</span>.message(names[i]));
    }
    out <span class="pl-ko">+=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;/ul&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> out;
};
</pre></div>

<p>Copy-paste it to a javascript file (e.g. 'templates.js'), and use its functions like in any other javascript file.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-eoa">src</span>=<span class="pl-s1"><span class="pl-pds">'</span>templates.js<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
<span class="pl-s2">&lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s2">    templates.greet([<span class="pl-s1"><span class="pl-pds">'</span>Andrew<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Betty<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>Charles<span class="pl-pds">'</span></span>]);</span>
<span class="pl-s2">&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<p>You can also use the generator at site/index.html to compile your templates to javascript source code.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a id="templates" class="anchor" href="#templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Templates</h3>

<p>A template is defined as a string between a  tag and includes two attributes - the template name and the template argument. Current version only accepts one argument per template.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">template</span> <span class="pl-eoa">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>message<span class="pl-pds">'</span></span> <span class="pl-eoa">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>&gt;
    &lt;<span class="pl-ent">li</span>&gt;Hello {{=name}}&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;</pre></div>

<p>The previous template gets compiled to the following javascript function:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">function</span> <span class="pl-enf">message</span>(<span class="pl-vpf">name</span>) {
    <span class="pl-s">var</span> out <span class="pl-ko">=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;li&gt;Hello <span class="pl-pds">'</span></span> <span class="pl-ko">+</span> (name) <span class="pl-ko">+</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;/li&gt;<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> out;
};</pre></div>

<h3>
<a id="functions" class="anchor" href="#functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Functions</h3>

<p>Besides templates, you can also define functions that can be useful, for instance, for defining presentation logic.
The main difference between functions and templates, is that the content of functions must be pure javascript code. But, similarly to templates, functions must have a name and an argument.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">function</span> <span class="pl-eoa">name</span>=<span class="pl-s1"><span class="pl-pds">'</span>beautify<span class="pl-pds">'</span></span> <span class="pl-eoa">arg</span>=<span class="pl-s1"><span class="pl-pds">'</span>someone<span class="pl-pds">'</span></span>&gt;
    return "Hi" + someone + " you are beautiful!";
&lt;/<span class="pl-ent">function</span>&gt;</pre></div>

<p>is compiled to:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">function</span> <span class="pl-enf">beautify</span>(<span class="pl-vpf">someone</span>) {
    <span class="pl-k">return</span> <span class="pl-s1"><span class="pl-pds">"</span>Hi<span class="pl-pds">"</span></span> <span class="pl-ko">+</span> someone <span class="pl-ko">+</span> <span class="pl-s1"><span class="pl-pds">"</span> you are beautiful!<span class="pl-pds">"</span></span>;
};</pre></div>

<p>Basically, temple.js returns the contents of functions as they are defined.</p>

<h3>
<a id="template-locations" class="anchor" href="#template-locations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Template locations</h3>

<p>You can define one or more templates inside the html document (for instance, inside a script element with the text attribute to something other than 'text/javascript'), or on an external file.</p>

<p>For external files, use <em>fromURL(url, callback)</em> to load the external file asynchronously. Check <a href="https://github.com/joaoventura/temple.js/blob/master/site/templates.html">this file with several templates and functions</a> for an example.</p>

<h3>
<a id="templejs-functions" class="anchor" href="#templejs-functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Temple.js functions</h3>

<ul>
<li><p>fromID(id): Loads templates from an element and returns them as compiled javascript functions ready for use.</p></li>
<li><p>fromURL(url, callback): Loads templates from an external file and returns them as compiled javascript functions ready for use.</p></li>
<li><p>stringFromID(ID): Loads templates from an element and returns them as javascript source code to be used on production.</p></li>
<li><p>stringFromURL(url, callback): Loads templates from an external file and returns them as javascript source code to be used on production.</p></li>
<li><p>build(string): Parses a string with templates and returns compiled javascript.</p></li>
<li><p>buildString(string): Parses a string with templates and returns javascript source code.</p></li>
</ul>

<h2>
<a id="github-page" class="anchor" href="#github-page" aria-hidden="true"><span class="octicon octicon-link"></span></a>Github page</h2>

<p><a href="http://joaoventura.github.io/temple.js/">http://joaoventura.github.io/temple.js/</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Temple.js maintained by <a href="https://github.com/joaoventura">joaoventura</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
